<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E621+</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="header">
    <div class="header-top">
      <div class="logo">
        <div class="logo-icon"></div>
        <div class="logo-text">E621+</div>
      </div>
      <div class="header-actions">
        <button class="icon-btn" id="settings-btn" title="Settings">
          <img src="assets/Images/Icons/setting.svg" alt="Settings">
        </button>
        <button class="icon-btn" id="kofi-btn" title="Support us on Ko-fi">
          <img src="assets/Images/Icons/kofi.svg" alt="Ko-fi">
        </button>
      </div>
    </div>
    
    <div class="tabs-nav">
      <button class="tab-nav-btn active" data-tab="artists">
        <img src="assets/Images/Icons/heart-fill.svg" alt="">
        Artists
      </button>
      <button class="tab-nav-btn" data-tab="tags">
        <img src="assets/Images/Icons/heart-fill.svg" alt="">
        Tags
      </button>
      <button class="tab-nav-btn" data-tab="searches">
        <img src="assets/Images/Icons/heart-fill.svg" alt="">
        Searches
      </button>
    </div>
  </div>

  <div class="content">
    <!-- Artists Tab -->
    <div class="tab-pane active" id="artists">
      <div class="stats-bar">
        <div class="stats-count">
          <img src="assets/Images/Icons/heart-fill.svg" alt="">
          <span><strong id="artist-count">0</strong> artists</span>
        </div>
        <div class="toolbar">
          <button class="btn-sm" id="import-artist" title="Import">
            <img src="assets/Images/Icons/import.svg" alt="">
          </button>
          <button class="btn-sm" id="export-artist" title="Export">
            <img src="assets/Images/Icons/export.svg" alt="">
          </button>
        </div>
      </div>

      <div id="artist-suggestions"></div>

      <div class="input-group">
        <div class="input-wrapper">
          <input type="text" class="input-field" id="artist-input" placeholder="Artist name...">
          <button class="btn-primary" id="add-artist-btn">Add</button>
        </div>
        <span class="already-in-favorites" id="artist-already-msg" aria-live="polite">Already in favorites</span>
      </div>

      <div class="search-sort-wrapper">
        <div class="search-bar">
          <input type="text" class="input-field" id="artist-search" placeholder="Search...">
        </div>
        <div class="sort-options">
          <select id="artist-sort" class="input-field">
            <option value="alphabetical">Alphabetical</option>
            <option value="date">Date added</option>
            <option value="frequency">Frequency</option>
          </select>
        </div>
      </div>

      <div class="favorites-list" id="artist-list">
        <div class="empty-state">
          <img src="assets/Images/Icons/heart-fill.svg" alt="">
          <p>No favorite artists</p>
        </div>
      </div>
    </div>

    <!-- Tags Tab -->
    <div class="tab-pane" id="tags">
      <div class="stats-bar">
        <div class="stats-count">
          <img src="assets/Images/Icons/heart-fill.svg" alt="">
          <span><strong id="tag-count">0</strong> tags</span>
        </div>
        <div class="toolbar">
          <button class="btn-sm" id="import-tag" title="Import">
            <img src="assets/Images/Icons/import.svg" alt="">
          </button>
          <button class="btn-sm" id="export-tag" title="Export">
            <img src="assets/Images/Icons/export.svg" alt="">
          </button>
        </div>
      </div>

      <div class="input-group">
        <div class="input-wrapper">
          <input type="text" class="input-field" id="tag-input" placeholder="Tag name...">
          <button class="btn-primary" id="add-tag-btn">Add</button>
        </div>
        <span class="already-in-favorites" id="tag-already-msg" aria-live="polite">Already in favorites</span>
      </div>

      <div class="search-sort-wrapper">
        <div class="search-bar">
          <input type="text" class="input-field" id="tag-search" placeholder="Search...">
        </div>
        <div class="sort-options">
          <select id="tag-sort" class="input-field">
            <option value="alphabetical">Alphabetical</option>
            <option value="date">Date added</option>
            <option value="frequency">Frequency</option>
          </select>
        </div>
      </div>

      <div class="favorites-list" id="tag-list">
        <div class="empty-state">
          <img src="assets/Images/Icons/heart-fill.svg" alt="">
          <p>No favorite tags</p>
        </div>
      </div>
    </div>

    <!-- Searches Tab -->
    <div class="tab-pane" id="searches">
      <div class="stats-bar">
        <div class="stats-count">
          <img src="assets/Images/Icons/heart-fill.svg" alt="">
          <span><strong id="search-count">0</strong> searches</span>
        </div>
        <div class="toolbar">
          <button class="btn-sm" id="import-search" title="Import">
            <img src="assets/Images/Icons/import.svg" alt="">
          </button>
          <button class="btn-sm" id="export-search" title="Export">
            <img src="assets/Images/Icons/export.svg" alt="">
          </button>
        </div>
      </div>

      <div class="input-group">
        <div class="input-wrapper">
          <input type="text" class="input-field" id="search-input" placeholder="Search query...">
          <button class="btn-primary" id="add-search-btn">Add</button>
        </div>
        <span class="already-in-favorites" id="search-already-msg" aria-live="polite">Already in favorites</span>
      </div>

      <div class="search-sort-wrapper">
        <div class="search-bar">
          <input type="text" class="input-field" id="search-search" placeholder="Search...">
        </div>
        <div class="sort-options">
          <select id="search-sort" class="input-field">
            <option value="alphabetical">Alphabetical</option>
            <option value="date">Date added</option>
            <option value="frequency">Frequency</option>
          </select>
        </div>
      </div>

      <div class="favorites-list" id="search-list">
        <div class="empty-state">
          <img src="assets/Images/Icons/heart-fill.svg" alt="">
          <p>No favorite searches</p>
        </div>
      </div>
    </div>

    <!-- Settings Tab -->
    <div class="tab-pane" id="settings">
      <div class="setting-group">
        <label class="setting-label">Appearance</label>
        <div class="setting-control">
          <div class="setting-row">
          </div>
          <div class="setting-row">
            <span class="setting-text">Icon size</span>
            <div style="display: flex; align-items: center; gap: 12px; flex: 1; max-width: 200px;">
              <input type="range" class="range-slider" id="icon-size" min="12" max="24" value="20">
              <span class="range-value" id="icon-size-value">20px</span>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-text">Favorites limit</span>
            <input type="number" id="favorites-limit" min="10" max="1000" value="100" class="input-field" style="width: 50px;">
          </div>
          <div class="setting-row">
            <span class="setting-text">Zoom size</span>
            <select id="zoom-scale" class="input-field" style="width: 50px;">
              <option value="1.15">1.15</option>
              <option value="1.25" selected>1.25</option>
              <option value="1.35">1.35</option>
            </select>
          </div>
          <!--
          <div class="setting-row">
            <span class="setting-text">Badge color</span>
            <div class="badge-color-control" style="display: flex; align-items: center; gap: 10px;">
              <input type="color" id="badge-color" value="#c41e3a" class="badge-color-input" title="Click to change badge color">
              <span class="range-value" id="badge-color-value">#c41e3a</span>
            </div>
          </div>
          -->
        </div>
      </div>

      <div class="setting-group">
        <label class="setting-label">Preferences</label>
        <div class="setting-control">
          <div class="setting-row">
            <span class="setting-text">Animations</span>
            <div class="toggle-switch active" id="toggle-animations"></div>
          </div>
          <div class="setting-row">
            <span class="setting-text">Sounds (enable/disable all)</span>
            <div class="toggle-switch active" id="toggle-sounds"></div>
          </div>
          <div class="setting-row">
            <span class="setting-text">Remove ads</span>
            <div class="toggle-switch" id="toggle-remove-ads"></div>
          </div>
          <div class="setting-row">
            <span class="setting-text">Disable hearts on list page</span>
            <div class="toggle-switch" id="toggle-disable-hearts-list-page"></div>
          </div>
        </div>
      </div>

      <div class="setting-group">
        <label class="setting-label">When to play sound</label>
        <div class="setting-control">
          <div class="setting-row">
            <span class="setting-text">Volume</span>
            <div style="display: flex; align-items: center; gap: 12px; flex: 1; max-width: 200px;">
              <input type="range" class="range-slider" id="sound-volume" min="0" max="100" value="30">
              <span class="range-value" id="sound-volume-value">30%</span>
            </div>
          </div>
          <div class="setting-row">
            <span class="setting-text">When clicking a favorite in the popup</span>
            <div class="toggle-switch active" id="toggle-sound-popup"></div>
          </div>
          <div class="setting-row">
            <span class="setting-text">When clicking a heart/link on e621</span>
            <div class="toggle-switch active" id="toggle-sound-page-click"></div>
          </div>
          <div class="setting-row">
            <span class="setting-text">When landing on a page matching a favorite</span>
            <div class="toggle-switch active" id="toggle-sound-page-load"></div>
          </div>
        </div>
      </div>

      <div class="setting-group">
        <label class="setting-label">Global backup</label>
        <div class="setting-control">
          <div class="setting-row" style="flex-wrap: wrap; gap: 8px;">
            <button type="button" class="btn-primary" id="export-all">Export all</button>
            <button type="button" class="btn-secondary" id="import-all">Import all</button>
          </div>
          <p class="setting-hint">Single JSON file for artists, tags and searches.</p>
        </div>
      </div>

      <div class="setting-group">
        <label class="setting-label">Danger Zone</label>
        <div class="setting-control">
          <button class="btn-danger" id="reset-settings">Reset all settings</button>
        </div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast">
    <img src="assets/Images/Icons/heart-fill.svg" alt="">
    <span id="toast-message"></span>
  </div>

  <script src="popup.js"></script>
</body>
</html>
